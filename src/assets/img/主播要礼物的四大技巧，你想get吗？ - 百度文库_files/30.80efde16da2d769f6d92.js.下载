(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{255:function(t,e,i){},371:function(t,e,i){"use strict";i(255)},480:function(t,e,i){"use strict";i.r(e);var o=i(5),n=i(2),r=i(17),s=i.n(r),a=i(0),u=i(7),c=(i(12),i(1)),l=i(14),h=i(370);function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach((function(e){m(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var p=u.a.ACT_ID,f=u.a.BEHAVIOR,v=u.a.MODULE,g=(new s.a,{data:function(){return{marginTop:"",fullScreenlistener:null,isShowThumb:!0}},computed:d(d(d(d(d(d(d({},Object(n.mapState)("viewUI",["readerThumb","pptStatus","scrollObject","screenMode","readerThumbAbsolute"])),Object(n.mapState)("readerInfo",["tplName","curLastPage","showPage","htmlUrls","curPage","region","page"])),Object(n.mapState)("vipInfo",["isVip"])),Object(n.mapState)("userInfo",["isLogin"])),Object(n.mapState)("docInfo",["docBizCategory","hasGot","isFromBdSearch","docId"])),Object(n.mapState)("infrastructure",["eventBus"])),{},{styleObj:function(){return{left:this.readerThumb.left,marginTop:this.marginTop,timer:null}},showBtn:function(){return this.curLastPage!==this.page},canShowAll:function(){return this.hasGot||this.isFromBdSearch&&1===this.region||this.isVip||this.docBizCategory===c.a.FREE&&this.isLogin},isPPT:function(){return"ppt"===this.tplName},visible:function(){var t=this.isPPT,e=this.pptStatus,i=this.isShowThumb;return!(!t||1!=+e||!i)}}),watch:{visible:{handler:function(t){this.setReaderThumbWidth(t?111:0)},immediate:!0},curPage:function(t,e){t>5?Object(o.$)("#reader-thumb").scrollTop(60*(t-5)):Object(o.$)("#reader-thumb").scrollTop(0)},scrollObject:function(t){this.bindOnScroll(t)},screenMode:function(t){t&&!this.fullScreenlistener&&(this.fullScreenlistener=Object(h.handleScroll)(document))},readerThumbAbsolute:function(t){t||(0==+this.pptStatus&&this.setPptStatus(1),this.isShowThumb=!0)},pptStatus:function(t){1==+t&&(this.hideThumb(),this.isShowThumb=!0)},docId:function(){this.hideThumb()}},mounted:function(){this.isPPT&&(a.log.xsend(p,{behavior:f.SHOW,module:v.PPTSideNavBar}),this.bindOnScroll(),this.setReaderThumbWidth(111),this.hideThumb())},methods:d(d(d({},Object(n.mapMutations)("viewUI",["setReaderThumbWidth","setPptStatus"])),Object(n.mapMutations)("readerInfo",["setCurPage"])),{},{bindOnScroll:function(t){var e,i,n=t||{},r=n.direction,s=n.top,a=+this.curPage||1,u=a,c=null===(e=document.getElementsByClassName("reader-container"))||void 0===e?void 0:e[0],h=c?null==c||null===(i=c.getBoundingClientRect)||void 0===i?void 0:i.call(c):{bottom:0},b=Number(Object(o.$)(window).height()),d=Object(l.e)();if("down"===r){for(var m,p=0;;){var f,v;if(!(m=document.getElementById("".concat(d).concat(u))))break;var g=null===(f=m)||void 0===f||null===(v=f.getBoundingClientRect)||void 0===v?void 0:v.call(f);if(!p&&g.top>=h.bottom-150&&(p=u),this.isPPT){if(b>g.top&&g.top>0&&Object(o.$)(m).is(":visible")&&h.bottom+5>g.bottom)break;u++}else{if(b>g.top&&Object(o.$)(m).is(":visible")&&b<g.bottom)break;u++}}u=m?u:a,p>1&&(u=Math.min(u,p-1))}else if("up"===r){var O;for(u--;;){var P,T;if(!(O=document.getElementById("".concat(d).concat(u))))break;var S=null===(P=O)||void 0===P||null===(T=P.getBoundingClientRect)||void 0===T?void 0:T.call(P);if(b>S.top&&S.top>0&&Object(o.$)(O).is(":visible"))break;u--}u=O?u:a}this.screenMode&&s<50&&(u=1),0===u&&(u=""),this.setCurPage(u)},gotoPage:function(t){this.isShowThumb&&(a.log.xsend(p,{behavior:f.CLICK,module:[v.PPTSideNavBar,"cover"].join("_")}),this.thumbGotoPage(t+1,!1))},thumbGotoPage:function(t,e){var i;this.setCurPage(t),null===(i=this.eventBus)||void 0===i||i.emit("gotopage",{curPage:t,needUpdateFold:e}),a.log.xsend(p,{behavior:f.EVENT,module:[v.ReaderTopBar,"gotoPage"].join("_")})},isActive:function(t){return+this.curPage===t?"active":""},toLogin:function(){this.isShowThumb&&(a.log.xsend(p,{behavior:f.CLICK,module:[v.PPTSideNavBar,"readmore"].join("_")}),this.eventBus.emit("readmoreEvent","thumb-more"))},showThumb:function(){this.readerThumbAbsolute&&(clearTimeout(this.timer),this.setPptStatus(1),this.isShowThumb=!0)},hideThumb:function(){var t=this;clearTimeout(this.timer),this.readerThumbAbsolute&&(this.timer=setTimeout((function(){t.setPptStatus(0),t.isShowThumb=!1}),3e3))}})}),O=(i(371),i(3)),P=Object(O.default)(g,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isPPT?i("div",{staticClass:"reader-thumb",class:[{visible:t.visible,"no-thumb":!t.isShowThumb},t.screenMode?"fullscreen":""],style:t.styleObj,attrs:{id:"reader-thumb"},on:{mouseover:t.showThumb,mouseleave:t.hideThumb}},[t._l(t.htmlUrls,(function(e,o){return i("div",{key:e,staticClass:"thumb-li",class:t.isActive(o+1),on:{click:function(e){return t.gotoPage(o)}}},[i("img",{attrs:{src:e,alt:""}}),t._v(" "),i("span",[t._v("\n            "+t._s(o+1)+"\n        ")])])})),t._v(" "),t.showBtn?i("div",{staticClass:"read",on:{click:t.toLogin}},[t._v("\n        继续阅读\n    ")]):t._e()],2):t._e()}),[],!1,null,"42bce507",null);e.default=P.exports}}]);