(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{256:function(t,e,o){},257:function(t,e,o){},258:function(t,e,o){},259:function(t,e,o){},260:function(t,e,o){},372:function(t,e,o){"use strict";o(256)},373:function(t,e,o){"use strict";o(257)},374:function(t,e,o){"use strict";o(258)},375:function(t,e){t.exports=function(t){var e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=414)}({1:function(t,e,o){(function(e){var o=function(t){return t&&t.Math==Math&&t};t.exports=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof e&&e)||Function("return this")()}).call(this,o(110))},10:function(t,e,o){var i=o(7),n=o(63),r=o(5),a=o(27),s=Object.defineProperty;e.f=i?s:function(t,e,o){if(r(t),e=a(e,!0),r(o),n)try{return s(t,e,o)}catch(t){}if("get"in o||"set"in o)throw TypeError("Accessors not supported");return"value"in o&&(t[e]=o.value),t}},110:function(t,e){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(t){"object"==typeof window&&(o=window)}t.exports=o},2:function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},27:function(t,e,o){var i=o(4);t.exports=function(t,e){if(!i(t))return t;var o,n;if(e&&"function"==typeof(o=t.toString)&&!i(n=o.call(t)))return n;if("function"==typeof(o=t.valueOf)&&!i(n=o.call(t)))return n;if(!e&&"function"==typeof(o=t.toString)&&!i(n=o.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},282:function(t,e,o){},351:function(t,e,o){"use strict";o(282)},4:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},414:function(t,e,o){"use strict";o.r(e),o(88);var i={name:"PcCommonDialog",props:{bg:{type:String,required:!0},closeIcon:{type:String,required:!0}},methods:{clickMask:function(){this.$emit("click-mask")},clickDialogContainer:function(){this.$emit("click-dialog-container")},clickCloseIcon:function(){this.$emit("click-close-icon")}}},n=(o(351),o(9)),r=Object(n.a)(i,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"pc-common-dialog"},[o("div",{staticClass:"mask",on:{click:t.clickMask}}),o("transition",{attrs:{name:"opening-fade"}},[o("div",{staticClass:"dialog-container default-bg",style:"background-image: url( "+t.bg+" )",on:{click:t.clickDialogContainer}},[o("i",{staticClass:"close-btn default-bg",style:"background-image: url( "+t.closeIcon+" )",on:{click:function(e){return e.stopPropagation(),t.clickCloseIcon(e)}}}),o("div",{staticClass:"title-text"})])])],1)}),[],!1,null,"555513c4",null).exports;r.install=function(t){t.component(r.name,r)},e.default=r},44:function(t,e,o){var i=o(1),n=o(4),r=i.document,a=n(r)&&n(r.createElement);t.exports=function(t){return a?r.createElement(t):{}}},5:function(t,e,o){var i=o(4);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},63:function(t,e,o){var i=o(7),n=o(2),r=o(44);t.exports=!i&&!n((function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a}))},7:function(t,e,o){var i=o(2);t.exports=!i((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},88:function(t,e,o){var i=o(7),n=o(10).f,r=Function.prototype,a=r.toString,s=/^\s*function ([^ (]*)/;i&&!("name"in r)&&n(r,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},9:function(t,e,o){"use strict";function i(t,e,o,i,n,r,a,s){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=o,l._compiled=!0),i&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),a?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},l._ssrRegister=c):n&&(c=s?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:l}}o.d(e,"a",(function(){return i}))}}).default},376:function(t,e,o){"use strict";o(259)},377:function(t,e,o){"use strict";o(260)},472:function(t,e,o){"use strict";o.r(e);var i=o(2),n=o(0),r=o(12);function a(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach((function(e){c(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function c(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var l={data:function(){return{dialogInfo:{},rigsterShow:!1,showRenewDialog:!1}},props:{popData:{type:Object,default:function(){return{}}}},watch:{popData:function(t){var e,o,i=this;if(1===(null==t||null===(e=t[this.layerId])||void 0===e||null===(o=e.data)||void 0===o?void 0:o.pop_show)){var n,r=t[this.layerId].data;return this.rigsterShow=!0,this.dialogInfo=Object.assign({},this.dialogInfo,null==r?void 0:r.pop_info),void this.getUsersVoucherData(null===(n=r.pop_info)||void 0===n?void 0:n.goods_id).finally((function(){i.registerRenewDialog()}))}this.registerRenewDialog()}},computed:s(s(s(s(s(s(s({},Object(i.mapState)("userInfo",["isLogin"])),Object(i.mapState)("vipInfo",["isVip","ticketTotal"])),Object(i.mapState)("ads",["wkAdBlockStatus"])),Object(i.mapState)("dialogManage",["voucherInfo"])),Object(i.mapState)(["userInfo"])),Object(i.mapState)(["wkSmallFlow"])),{},{layerId:function(){return this.isVip?"1":"7"}}),mounted:function(){this.getRenewPop()},methods:s(s({},Object(i.mapActions)("dialogManage",["registerDialogModal","getUsersVoucherData"])),{},{registerRenewDialog:function(){this.registerDialogModal({modal:"renewCenterRecallDialog",show:this.rigsterShow,showCallback:this.showCenterPop.bind(this)})},getRenewPop:function(){var t;!this.isLogin||null!==(t=this.wkAdBlockStatus)&&void 0!==t&&t.is_commercial_forbidden?this.$emit("get-layer-info"):this.$emit("get-layer-info",this.layerId)},jumpToRenew:function(){n.log.xsend(102645,{action:"new_read_page_renew"});var t={choose_goods_id:this.dialogInfo.goods_id};this.showRenewDialog=!1;var e=Object(r.c)(r.a.VIP,{location:"VipMemberPopNew.RenewCenterPop"},t);window.open(e)},showCenterPop:function(){n.log.xsend(102644,{index:"new_read_page"}),this.showRenewDialog=!0}})},u=(o(372),o(3)),p=Object(u.default)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.showRenewDialog,expression:"showRenewDialog"}],staticClass:"center-pop-wrap"},[t.isVip&&t.dialogInfo.goods_id?o("before-expiry-renew-dialog",{ref:"before-expiry-renew-dialo",attrs:{"is-vip":t.isVip,"biz-user-info":t.userInfo,"ticket-total":t.ticketTotal,"test-id":t.wkSmallFlow.testId,"voucher-info":t.voucherInfo,"dialog-info":t.dialogInfo}}):o("after-expiry-renew-dialog",{ref:"after-expiry-renew-dialog",attrs:{"is-vip":t.isVip,"biz-user-info":t.userInfo,"ticket-total":t.ticketTotal,"test-id":t.wkSmallFlow.testId,"voucher-info":t.voucherInfo,"dialog-info":t.dialogInfo}})],1)}),[],!1,null,null,null).exports,d={props:{content:{type:String,default:""}}},f=(o(373),Object(u.default)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ui-toast-wrap"},[o("div",{staticClass:"ui-toast-2019"},[t._t("content",(function(){return[o("div",{staticClass:"content"},[t._v("\n                "+t._s(t.content)+"\n            ")])]}))],2)])}),[],!1,null,null,null).exports),h=o(38);function v(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function g(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?v(Object(o),!0).forEach((function(e){b(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function b(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var m={components:{toast:f},data:function(){return{token:null,voucherInfo:{},voucherType:[],currentLayer:null,visibleToast:!1,rigsterShow:!1,isShowPayDocPop:!1}},props:{popData:{type:Object,default:function(){return{}}}},watch:{popData:function(t){var e,o;if(1===(null==t||null===(e=t[this.currentLayer])||void 0===e||null===(o=e.data)||void 0===o?void 0:o.pop_show)){var i,n=t[this.currentLayer].data;this.token=n.token,this.voucherInfo=n.layer_info?n.layer_info:{},this.voucherType=(null==n||null===(i=n.layer_info)||void 0===i?void 0:i.voucher_type)+""||"",this.rigsterShow=!0}this.registerPayDocCenterDialog()}},created:function(){var t,e;this.currentLayer=this.isVip?5:6;var o=this.priceInfo,i=o.isPayDoc,n=o.isPaied,r=null===(t=this.priceInfo)||void 0===t?void 0:t.highPriceDoc;!i||!this.isLogin||n||r||this.visiblePromotion||null!==(e=this.wkAdBlockStatus)&&void 0!==e&&e.is_commercial_forbidden?this.$emit("get-layer-info"):this.$emit("get-layer-info",this.currentLayer,{platform:"pc",doc_id:this.docId,power_id:2})},computed:g(g(g(g(g(g({},Object(i.mapState)("userInfo",["isLogin"])),Object(i.mapState)(["priceInfo"])),Object(i.mapState)("docInfo",["docId"])),Object(i.mapState)("ads",["wkAdBlockStatus"])),Object(i.mapState)("vipInfo",["isVip"])),Object(i.mapGetters)("priceInfo",["visiblePromotion"])),methods:g(g({},Object(i.mapActions)("dialogManage",["registerDialogModal"])),{},{registerPayDocCenterDialog:function(){this.registerDialogModal({modal:"payDocCenterRecallDialog",show:this.rigsterShow,showCallback:this.showPayDocCenterPop.bind(this)})},showPayDocCenterPop:function(){this.isShowPayDocPop=!0,this.reduceShowTime(),n.log.xsend(5===this.currentLayer?102794:102800)},receiveVoucher:function(){var t,e=this;this.token?(this.btnClick("use"),h.a.fetchPayDocCenterVoucher({layerId:this.currentLayer,voucher_types:null===(t=this.voucherType)||void 0===t?void 0:t.split(),token:this.token}).then((function(t){e.show=!1;var o={location:"VipMemberPopNew.PayDocCenterPop"},i=e.isVip?Object(r.c)(r.a.DOC,o):Object(r.c)(r.a.VIP_AND_DOC,o);location.href=i})).catch((function(t){e.showToast()}))):this.showToast()},reduceShowTime:function(){h.a.layerpopClose(this.currentLayer)},handleClose:function(){this.isShowPayDocPop=!1,this.btnClick("close")},btnClick:function(t){n.log.xsend(5===this.currentLayer?102795:102801,{index:t})},showToast:function(){var t=this;this.visibleToast=!0,this.show=!1,setTimeout((function(){t.visibleToast=!1}),2e3)}})},y=(o(374),Object(u.default)(m,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPayDocPop,expression:"isShowPayDocPop"}]},[o("div",{staticClass:"center-pay-doc-pop-wrap"},[o("div",{staticClass:"center-pay-doc-pop-content"},[o("div",{staticClass:"close-btn",on:{click:t.handleClose}}),t._v(" "),t._m(0),t._v(" "),o("span",{staticClass:"time-expire"},[t._v("有效期：24小时")]),t._v(" "),o("section",{staticClass:"voucher-info"},[o("h2",{staticClass:"discount"},[o("span",{staticClass:"voucher-price"},[t._v(t._s(t.voucherInfo.voucher_price/100))]),t._v(" "),o("span",{staticClass:"mrb"},[t._v("元")]),t._v(" "),o("span",{staticClass:"discount-text"},[t._v("优惠券")])]),t._v(" "),o("div",{staticClass:"voucher-desc"},[o("span",{staticClass:"desc"},[t._v("满")]),t._v(" "),o("span",{staticClass:"desc"},[t._v(t._s(t.voucherInfo.min_pay_amonut/100))]),t._v(" "),o("span",{staticClass:"desc"},[t._v("可用")])])]),t._v(" "),o("button",{staticClass:"use-button",attrs:{type:"button"},on:{click:t.receiveVoucher}},[t._v("\n                立即使用\n            ")])])]),t._v(" "),o("toast",{directives:[{name:"show",rawName:"v-show",value:t.visibleToast,expression:"visibleToast"}],attrs:{content:"很遗憾，优惠券领取失败"}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"title"},[this._v("\n                恭喜！您收到一张"),e("span",{staticClass:"doc-voucher"},[this._v("文档代金券")])])}],!1,null,null,null).exports);function w(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function O(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?w(Object(o),!0).forEach((function(e){_(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):w(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function _(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var j={props:{popData:{type:Object,default:function(){return{}}}},data:function(){return{layerId:8,dialogExtInfo:{specialUser:{}},expiredDay:0}},watch:{popData:function(t){var e,o,i,n,r=null!=t&&null!==(e=t[this.layerId])&&void 0!==e&&null!==(o=e.data)&&void 0!==o&&o.browse_vip_layer?t[this.layerId].data.browse_vip_layer:{};r.barShow=null==t||null===(i=t[this.layerId])||void 0===i||null===(n=i.data)||void 0===n?void 0:n.bar_show,this.dialogExtInfo=Object.assign({},this.dialogExtInfo,{specialUser:r})}},created:function(){this.expiredDay=this.pastDays||0,this.isLogin?this.$emit("get-layer-info",this.layerId):this.$emit("get-layer-info")},computed:O(O(O({},Object(i.mapState)("userInfo",["isLogin"])),Object(i.mapState)("ads",["wkAdBlockStatus"])),Object(i.mapState)("vipInfo",["pastDays"])),methods:O(O(O({},Object(i.mapMutations)("dialogManage",["setShowExperienceCarBar","setShowExperienceCarNewUser"])),Object(i.mapActions)("dialogManage",["registerDialogModal"])),{},{registerDialog:function(t){this.registerDialogModal({modal:"specialUserCenterPop",show:t,showCallback:this.showDialog.bind(this)})},showDialog:function(){var t,e;this.showBar(),null===(t=this.$refs["specific-user-dialog"])||void 0===t||null===(e=t.showDialog)||void 0===e||e.call(t)},showBar:function(){this.setShowExperienceCarNewUser(!1),this.setShowExperienceCarBar(!0)}})},D=Object(u.default)(j,(function(){var t=this.$createElement;return(this._self._c||t)("specific-user-dialog",{ref:"specific-user-dialog",attrs:{"is-login":this.isLogin,"wk-ad-block-status":this.wkAdBlockStatus,"dialog-info":this.dialogExtInfo,"expired-day":this.expiredDay},on:{"register-dialog":this.registerDialog,"show-bar":this.showBar}})}),[],!1,null,null,null).exports,P=o(9);var C=o(28),S=o(14),I=o(375);function k(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function x(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?k(Object(o),!0).forEach((function(e){T(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):k(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function T(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var V={props:{popData:{type:Object,required:!0,default:function(){return{8:{data:{pop_show:0}}}}}},components:{pcCommonDialog:o.n(I).a},data:function(){return{modal:"pcCommonDialog",layerId:8,readPageDialogInfo:{position:{readPage:!1},url:""},clickClose:!1,ready:[!1,!1],hightLevelDialog:!1}},computed:x(x(x(x({},Object(i.mapState)("vipInfo",["pastDays"])),Object(i.mapState)("userInfo",["isLogin"])),Object(i.mapState)("sulaInfo",["commonDialogConf"])),{},{isNeedGetInfo:function(){var t,e,o,i=null===(t=localStorage)||void 0===t?void 0:t.getItem("experienceCardNewPopClose");return(null===(e=this.popData[this.layerId])||void 0===e||null===(o=e.data)||void 0===o?void 0:o.pop_show)||-1===this.pastDays&&i!==this.getCurrentTime()},isShow:function(){var t,e;return this.isNeedGetInfo&&(null===(t=this.readPageDialogInfo)||void 0===t||null===(e=t.position)||void 0===e?void 0:e.readPage)&&!this.clickClose}}),created:function(){this.$emit("get-layer-info",this.layerId)},methods:x(x(x({},Object(i.mapMutations)("dialogManage",["setShowExperienceCarBar","setCommonDialogInfo","setBusinessSidebarStatus"])),Object(i.mapActions)("dialogManage",["registerDialogModal"])),{},{clickDialogContainer:function(){n.log.xsend(103223,{index:"view",type:"dialog"}),this.setCloseIconStatus(),window.open(this.readPageDialogInfo.url)},setCloseIconStatus:function(){this.clickClose=!0,Object(C.f)("experienceCardNewPopClose",this.getCurrentTime())},childMounted:function(){n.log.xsend(103222,{index:"view"})},clickMask:function(){n.log.xsend(103223,{index:"view",type:"mask"}),this.setCloseIconStatus()},clickCloseIcon:function(){var t;-1!==this.pastDays&&(t={close_type:"vip"},P.wkAxios.get("/user/interface/closebrowseviplayer",{params:t}).catch((function(){return{}}))),n.log.xsend(103223,{index:"view",type:"closeIcon"}),this.setCloseIconStatus()},getCurrentTime:function(){var t=(new Date).getTime();return S.b.parseDate(t,"")}}),watch:{popData:function(t){var e,o,i=this.ready.slice();i[0]=!0,this.ready=i,this.setBusinessSidebarStatus(null===(e=t[this.layerId])||void 0===e||null===(o=e.data)||void 0===o?void 0:o.bar_show)},ready:{handler:function(t){var e=this;t.every((function(t){return t}))&&this.registerDialogModal({modal:this.modal,show:this.isShow,showCallback:function(){e.hightLevelDialog=!0,e.setShowExperienceCarBar(!0)}})},deep:!0},commonDialogConf:{immediate:!0,handler:function(t){if(t){this.readPageDialogInfo=null==t?void 0:t.dialog,this.setCommonDialogInfo(t);var e=this.ready.slice();e[1]=!0,this.ready=e}}}}};function E(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function M(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?E(Object(o),!0).forEach((function(e){L(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):E(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function L(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var A={components:{"renew-center-pop":p,"pay-doc-center-pop":y,"special-user-center-pop":D,"pc-common-dialog-wrap":Object(u.default)(V,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"pc-common-dialog-wrap"}},[t.isShow&&t.hightLevelDialog?o("pcCommonDialog",{attrs:{bg:t.readPageDialogInfo.bg,"close-icon":t.readPageDialogInfo.closeIcon},on:{"click-mask":t.clickMask,"click-dialog-container":t.clickDialogContainer,"click-close-icon":t.clickCloseIcon,"hook:mounted":t.childMounted}}):t._e()],1)}),[],!1,null,null,null).exports},data:function(){return{layerPopTotal:4,curLayNum:0,layerIds:[],params:{act:"get",platform:"pc"}}},computed:M({},Object(i.mapState)("dialogManage",["popData"])),methods:M(M({},Object(i.mapActions)("dialogManage",["getLayerPopData","setPopData"])),{},{getLayerInfo:function(t,e){this.curLayNum++,t&&this.layerIds.push(t),e&&Object.assign(this.params,e),this.curLayNum<this.layerPopTotal||(0!==this.layerIds.length?this.getLayerPopData(M(M({},this.params),{},{layer_id:this.layerIds.join()})):this.setPopData({}))}})},N=Object(u.default)(A,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"layer-pop-wrap"},[o("renew-center-pop",{attrs:{"pop-data":t.popData},on:{"get-layer-info":t.getLayerInfo}}),t._v(" "),o("pay-doc-center-pop",{attrs:{"pop-data":t.popData},on:{"get-layer-info":t.getLayerInfo}}),t._v(" "),o("special-user-center-pop",{attrs:{"pop-data":t.popData},on:{"get-layer-info":t.getLayerInfo}}),t._v(" "),o("pc-common-dialog-wrap",{attrs:{"pop-data":t.popData},on:{"get-layer-info":t.getLayerInfo}})],1)}),[],!1,null,null,null).exports,R=o(4);function $(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function B(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?$(Object(o),!0).forEach((function(e){G(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):$(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function G(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function U(t,e,o,i,n,r,a){try{var s=t[r](a),c=s.value}catch(t){return void o(t)}s.done?e(c):Promise.resolve(c).then(i,n)}var H=function(){return new Promise(function(){var t,e=(t=regeneratorRuntime.mark((function t(e,o){var i,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=void 0,r=void 0,a=void 0,r=(new Date).toDateString(),a=null===(o=localStorage)||void 0===o?void 0:o.getItem("sulaAutomaticDialogOpenDate"),i=a&&r===a||(localStorage.setItem("sulaAutomaticDialogOpenDate",r),!1),n=!1,i&&(n=!1),R.a.dispatch("dialogManage/registerDialogModal",{modal:"dynamicDialog",show:n,showCallback:function(){e(!0)}});case 5:case"end":return t.stop()}var o,r,a}),t)})),function(){var e=this,o=arguments;return new Promise((function(i,n){var r=t.apply(e,o);function a(t){U(r,i,n,a,s,"next",t)}function s(t){U(r,i,n,a,s,"throw",t)}a(void 0)}))});return function(t,o){return e.apply(this,arguments)}}())},F={data:function(){return{sulaData:{}}},methods:B(B({},Object(i.mapActions)("dialogManage",["registerDialogModal"])),{},{handleClose:function(){this.$emit("handle-close")}})},Y=Object(u.default)(F,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"dynamic-dialog-wrap"})}),[],!1,null,null,null).exports,q=o(7);function z(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function J(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?z(Object(o),!0).forEach((function(e){K(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):z(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function K(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var W=q.a.ACT_ID,X=q.a.BEHAVIOR,Q=q.a.MODULE,Z={name:"RetainPop",data:function(){return{visible:!1,hour:"01",min:"00",sec:"00",userTypeV2:0,isShowDialog:!1}},computed:J(J({},Object(i.mapGetters)("vipGoodsInfo",["currentSaleYearGoods","currentSaleMonthlyGoods"])),{},{couponCard:function(){return 4===this.userTypeV2?"voucher-card":"vip-card"},currentSalePrice:function(){var t,e;return 4===this.userTypeV2?null===(e=this.currentSaleYearGoods)||void 0===e?void 0:e.sale_price:null===(t=this.currentSaleMonthlyGoods)||void 0===t?void 0:t.sale_price},currentPrice:function(){var t,e;return 4===this.userTypeV2?null===(e=this.currentSaleYearGoods)||void 0===e?void 0:e.price:null===(t=this.currentSaleMonthlyGoods)||void 0===t?void 0:t.price},title:function(){var t="";switch(this.userTypeV2){case 1:t=this.currentPrice-this.currentSalePrice>0?"文库VIP新客优惠":"开通文库VIP</br>享文档下载特权";break;case 2:case 3:t=this.currentPrice-this.currentSalePrice>0?"文库VIP限时特惠":"开通文库VIP</br>享文档下载特权";break;case 4:t="恭喜您获得</br>文库VIP优惠劵"}return t},cardText:function(){var t="";switch(this.userTypeV2){case 1:case 2:case 3:t=this.currentPrice-this.currentSalePrice>0?"连续包月立减".concat((this.currentPrice-this.currentSalePrice)/100,"元"):"连续包月低至".concat(this.currentSalePrice/100,"元");break;case 4:t="年卡专享"}return t},btnText:function(){var t="";switch(this.userTypeV2){case 1:case 2:case 3:t=this.currentPrice-this.currentSalePrice>0?"".concat(this.currentSalePrice/100,"元开会员"):"立即开通";break;case 4:t="立即领取"}return t}}),mounted:function(){var t=(new Date).toDateString(),e=Object(C.a)("retainDialogShow");e&&e===t?this.registerBottomDialog():this.getRetainInfo()},beforeDestroy:function(){this.clearTimer()},methods:J(J({},Object(i.mapActions)("dialogManage",["registerDialogModal"])),{},{registerBottomDialog:function(){this.registerDialogModal({modal:"retainPopDialog",show:this.isShowDialog,showCallback:this.showRetainPopDialog.bind(this)})},showRetainPopDialog:function(){this.visible=!0,this.countTime(),n.log.xsend(W,{behavior:X.SHOW,module:Q.RetainPop})},countTime:function(){var t=this,e=59,o=59;this.timer=setInterval((function(){t.hour="00",t.min=t.timeHandle(o),t.sec=t.timeHandle(e),--e<0&&(e=59,o--),o<=0&&e<=0&&(o=59,e=59)}),1e3)},timeHandle:function(t){return t<10?"0".concat(t):"".concat(t)},clearTimer:function(){this.timer&&clearInterval(this.timer)},closeHandle:function(){this.visible=!1,this.clearTimer()},getRetainInfo:function(){var t=this;h.a.vippop("get",2).then((function(e){var o=e||{},i=o.is_pop,n=void 0!==i&&i,r=o.user_type_v2,a=void 0===r?0:r,s=o.token,c=void 0===s?"":s;if(n&&+a){t.userTypeV2=+a,t.isShowDialog=t.currentSaleYearGoods||t.currentSaleMonthlyGoods,t.token=c;var l=(new Date).toDateString();Object(C.f)("retainDialogShow",l)}})).finally((function(){t.registerBottomDialog()}))},getVoucher:function(){var t=this,e=!1;n.log.xsend(W,{behavior:X.CLICK,module:Q.RetainPop}),this.token?e||(e=!0,h.a.getVoucherForBottomVipPop(this.token,2).then((function(t){e=!1})).catch((function(){e=!1})).finally((function(){t.gotoVipCashier()}))):this.gotoVipCashier()},gotoVipCashier:function(){var t,e,o,i,n={};4===this.userTypeV2?n={choose_goods_id:null!==(t=null===(e=this.currentSaleYearGoods)||void 0===e?void 0:e.goods_id)&&void 0!==t?t:312}:n={choose_goods_id:null!==(o=null===(i=this.currentSaleMonthlyGoods)||void 0===i?void 0:i.goods_id)&&void 0!==o?o:30001};var a=Object(r.c)(r.a.VIP,{location:"VipMemberPopNew.RetainPop"},n);window.location.href=a},beforeLeave:function(t){var e,o,i=null===(e=document.getElementsByClassName("vip-activity-wrap-new"))||void 0===e?void 0:e[0],n=null==i||null===(o=i.getBoundingClientRect)||void 0===o?void 0:o.call(i),r=n.top,a=void 0===r?0:r,s=n.left,c=void 0===s?"100%":s,l=n.width,u=void 0===l?80:l,p=n.height,d=void 0===p?60:p;t.style.transform="translate(-50%, -50%) scale(0)",t.style.left="100%"===c?c:"".concat(c+u/2,"px"),t.style.top=0===a?a:"".concat(a+d/2,"px")}})},tt=(o(376),{components:{DynamicDialog:Y,LayerPop:N,RetainPop:Object(u.default)(Z,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"retain-dialog-wrap"},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.visible&&t.userTypeV2,expression:"visible && userTypeV2"}],staticClass:"dialog-mask"}),t._v(" "),o("transition",{attrs:{name:"retain-fade",duration:{leave:500}},on:{"before-leave":t.beforeLeave}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.visible&&t.userTypeV2,expression:"visible && userTypeV2"}],staticClass:"retain-dialog",on:{click:t.getVoucher}},[o("div",{staticClass:"title",class:t.title.indexOf("br")>-1?"multiline":"",domProps:{innerHTML:t._s(t.title)}}),t._v(" "),"vip-card"===t.couponCard?o("div",{staticClass:"coupon-card vip-card"},[o("p",[t._v(t._s(t.cardText))])]):"voucher-card"===t.couponCard?o("div",{staticClass:"coupon-card voucher-card"},[o("h4",[o("em",[t._v("10")]),t._v("元优惠劵")]),t._v(" "),o("p",[t._v(t._s(t.cardText))])]):t._e(),t._v(" "),o("div",{staticClass:"info"},[o("div",{staticClass:"desc"},[t._v("限时抢购:")]),t._v(" "),o("div",{staticClass:"time"},[o("span",[t._v(t._s(t.hour))]),t._v("时\n                    "),o("span",[t._v(t._s(t.min))]),t._v("分\n                    "),o("span",[t._v(t._s(t.sec))]),t._v("秒\n                ")])]),t._v(" "),o("div",{staticClass:"btn"},[t._v(t._s(t.btnText))]),t._v(" "),o("div",{staticClass:"close-btn",on:{click:function(e){return e.stopPropagation(),t.closeHandle.apply(null,arguments)}}})])])],1)}),[],!1,null,"f7515438",null).exports},methods:{handleClose:function(){this.isShowDynamicDialog=!1}},data:function(){return{isShowDynamicDialog:!1}},mounted:function(){var t=this;H().then((function(e){t.isShowDynamicDialog=e})).catch((function(t){console.error(t)}))}}),et=Object(u.default)(tt,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"vip-member-pop-content"},[e("RetainPop"),this._v(" "),e("LayerPop"),this._v(" "),this.isShowDynamicDialog?e("DynamicDialog",{on:{"handle-close":this.handleClose}}):this._e()],1)}),[],!1,null,null,null).exports;function ot(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function it(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(o),!0).forEach((function(e){nt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ot(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function nt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var rt,at=q.a.ACT_ID,st=q.a.BEHAVIOR,ct=q.a.MODULE,lt=18e5,ut={data:function(){return{actionStatus:"",min:"30",sec:"00",canSend:!0,showVNAD:!1,showToast:!1}},computed:it(it(it({},Object(i.mapState)("userInfo",["isLogin"])),Object(i.mapState)("dialogManage",["showNoAdDialog"])),Object(i.mapState)("infrastructure",["eventBus"])),mounted:function(){var t=this;this.eventBus.on("initNoAdDialog",(function(e){t.init()}))},methods:it(it({},Object(i.mapMutations)("dialogManage",["setShowNoAdDialog"])),{},{init:function(){this.isLogin?(this.countDown(),n.log.xsend(at,{behavior:st.SHOW,module:ct.VipNoAdDialog}),this.setShowNoAdDialog(!0),this.canSend=!0):this.toCashier()},countDown:function(){var t=this;rt=setInterval((function(){if(lt<0)return clearInterval(rt),void t.handleClose();var e=new Date(lt),o="".concat(e.getMinutes()),i="".concat(e.getSeconds());o.length<2&&(o="0".concat(o)),i.length<2&&(i="0".concat(i)),t.min=o,t.sec=i,lt-=1e3}),1e3)},handleClose:function(){this.reset()},reset:function(){clearInterval(rt),lt=18e5},sendvoucherforvippromo:function(){return P.wkAxios.post("/goods/interface/sendvoucherforvippromo")},goToCashier:function(){var t=this;n.log.xsend(at,{behavior:st.CLICK,module:[ct.VipNoAdDialog,"btnGetCoupon"].join("_")}),this.canSend&&this.sendvoucherforvippromo().then((function(){t.canSend=!1,t.showToast=!0,t.actionStatus="领取成功!",setTimeout((function(){t.showToast=!1,t.toCashier()}),3e3)})).catch((function(e){var o;t.showToast=!0,1==+(null==e||null===(o=e.status)||void 0===o?void 0:o.code)?(t.actionStatus="已领取!",setTimeout((function(){t.showToast=!0,t.toCashier()}),3e3)):(t.actionStatus="领取失败，请重试!",setTimeout((function(){t.showToast=!1,location.reload()}),3e5))}))},toCashier:function(){n.log.xsend(102741,{pos:"vipNoAdDialog",idx:1});var t=Object(r.c)(r.a.VIP,{location:"VipNoAdDialog",ext:"adfree_joinvip"});location.href=t},closeDialog:function(){clearInterval(rt),this.setShowNoAdDialog(!1)}})};o(377);function pt(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function dt(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var ft={components:{VipMemberPop:et,VipNoAdDialog:Object(u.default)(ut,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.showNoAdDialog?o("div",[o("div",{staticClass:"pop-up-window"}),t._v(" "),o("div",{staticClass:"vip-pop-container"},[o("div",{staticClass:"pop-container"},[o("div",{staticClass:"close-dialog-btn",on:{click:t.closeDialog}}),t._v(" "),o("div",{staticClass:"coupon",on:{click:t.goToCashier}},[o("div",{staticClass:"title"},[t._v("10元VIP代金券")]),t._v(" "),o("div",{staticClass:"count-down-wrap"},[o("ul",{staticClass:"count-down-content clearfix"},[o("li",{staticClass:"hour count-0"}),t._v(" "),o("li",{staticClass:"xs"},[t._v("小时")]),t._v(" "),o("li",{staticClass:"min-1",class:"count-"+t.min[0]}),t._v(" "),o("li",{staticClass:"min-2",class:"count-"+t.min[1]}),t._v(" "),o("li",{staticClass:"fen"},[t._v("分")]),t._v(" "),o("li",{staticClass:"sec-1",class:"count-"+t.sec[0]}),t._v(" "),o("li",{staticClass:"sec-2",class:"count-"+t.sec[1]}),t._v(" "),o("li",{staticClass:"miao"},[t._v("秒")])])])]),t._v(" "),o("div",{staticClass:"get-coupon-btn",on:{click:t.goToCashier}},[t._v("\n                领取代金券并开通VIP，享纯净体验\n            ")]),t._v(" "),t._m(0),t._v(" "),t.showToast?o("div",{staticClass:"toast",domProps:{textContent:t._s(t.actionStatus)}}):t._e()])])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon-group"},[e("div",{staticClass:"item item-1"},[e("i"),this._v("赠共享文档下载特权\n                ")]),this._v(" "),e("div",{staticClass:"item item-2"},[e("i"),this._v("享VIP专享文档下载特权\n                ")]),this._v(" "),e("div",{staticClass:"item item-3"},[e("i"),this._v("赠百度阅读VIP精品版\n                ")])])}],!1,null,"27b4e760",null).exports},computed:function(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(o),!0).forEach((function(e){dt(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):pt(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},Object(i.mapState)("readerInfo",["tplName"]))},ht=Object(u.default)(ft,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("VipMemberPop"),this._v(" "),e("VipNoAdDialog")],1)}),[],!1,null,null,null);e.default=ht.exports}}]);