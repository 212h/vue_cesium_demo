(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{261:function(e,t,i){},262:function(e,t,i){},378:function(e,t,i){"use strict";i(261)},379:function(e,t,i){"use strict";i(262)},477:function(e,t,i){"use strict";i.r(t);var n=i(2),o=i(46),s=i(14),a=i(12),l=i(4),r=i(31),c=i(0),d=i(7),u=i(9),h=i(18),v=i(319),p=i(17),f=i.n(p),m=i(5);function b(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){w(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function w(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var O,S=d.a.ACT_ID,T=d.a.BEHAVIOR,C=d.a.MODULE,y=(new f.a,{components:{PopDialog:v.a},data:function(){return{isEditMode:!1,guideState:-1,isShowDialog:!1,avators:[],loading:!1,isShowTrialGuide:!1,dialogInfo:{type:"",title:"在线编辑文档，一键导出省时又高效",descText:"也编辑了此文档",leftBtnText:"稍后再试",rightBtnText:"编辑文档"}}},watch:{docId:{handler:function(e){var t,i,n,o,s,a,l,r,c,d,u,h=this;(this.initEditMode(),null!==(t=this.eventBus)&&void 0!==t&&null!==(i=t.eventMap)&&void 0!==i&&null!==(n=i.hasOwnProperty)&&void 0!==n&&n.call(i,"firstScreenRendered"))&&(null===(r=this.eventBus)||void 0===r||null===(c=r.off)||void 0===c||c.call(r,"firstScreenRendered"));null!==(o=this.eventBus)&&void 0!==o&&null!==(s=o.eventMap)&&void 0!==s&&null!==(a=s.hasOwnProperty)&&void 0!==a&&a.call(s,"editModeChange")&&(null===(d=this.eventBus)||void 0===d||null===(u=d.off)||void 0===u||u.call(d,"editModeChange"));null===(l=this.eventBus)||void 0===l||l.on("firstScreenRendered",(function(){h.loading=!1})),this.$nextTick((function(){h.eventBus.on("editModeChange",(function(){h.switchMode("toolbar")}))}))}}},computed:g(g(g(g(g(g(g({},Object(n.mapState)("userInfo",["isLogin"])),Object(n.mapState)("vipInfo",["isVip"])),Object(n.mapState)("docInfo",["docId","viewCount"])),Object(n.mapState)("readerInfo",["editableRtcs","trialEditInfo","needDownloadEdited"])),Object(n.mapState)("infrastructure",["eventBus"])),Object(n.mapState)("wkSmallFlow",["wkWeb11137"])),{},{trialEditTimes:function(){var e;return+(null===(e=this.trialEditInfo)||void 0===e?void 0:e.times)||0}}),created:function(){var e;this.initEditMode(),this.isVip&&null!==(e=this.editableRtcs)&&void 0!==e&&e.isAntiSpam&&this.initSdkMachine()},mounted:function(){var e,t=this;c.log.xsend(S,{behavior:T.SHOW,module:C.ModeSwitchEntry}),this.judgeGuide(),null===(e=this.eventBus)||void 0===e||e.on("firstScreenRendered",(function(){t.loading=!1})),this.eventBus.on("editModeChange",(function(){t.switchMode("toolbar")})),this.eventBus.on("trialEditPop",(function(e){t.menuInfo=e,t.trialEditDialog()}))},methods:g(g({},Object(n.mapMutations)("editStatus",["setIsNotVipEnterEditTip"])),{},{showTrialGuide:function(e){this.wkWeb11137?!e||this.isVip||!this.trialEditTimes||this.isEditMode?this.isShowTrialGuide=!1:this.isShowTrialGuide=!0:this.isShowTrialGuide=!1},initEditMode:function(){var e,t;if(this.isEditMode=this.isVip&&4==+(null===(e=this.editableRtcs)||void 0===e?void 0:e.edtFlow)&&!(null!==(t=this.editableRtcs)&&void 0!==t&&t.isAntiSpam),!this.isVip){var i=this.isEditMode?0:1;this.toggleReaderHelper(i)}},judgeGuide:function(){var e=this;this.isVip||this.wkWeb11137||(r.default.get("view_edit_mode_guide")||(c.log.xsend(S,{behavior:T.SHOW,module:C.ModeSwitchGuide}),this.guideState=0,r.default.set("view_edit_mode_guide",1,{path:"/",expires:864e5})),setTimeout((function(){0===e.guideState&&(e.guideState=1)}),1e4))},closeGuide:function(){c.log.xsend(S,{behavior:T.CLICK,module:C.ModeSwitchGuide}),this.guideState=1},closeDialog:function(e){this.isShowDialog=!1;var t=this.menuInfo||{},i=t.docId,n=t.url;i&&n&&this.dialogInfo.type&&"nextDoc"===e&&(Object(l.b)(i,n),history.pushState({docId:i},"",n))},requstReaderInfo:function(e){var t=this;this.loading=!0,Object(l.c)(e).then((function(){var e,i;1==+(null===(e=t.editableRtcs)||void 0===e?void 0:e.edtStatus)&&null!==(i=t.editableRtcs)&&void 0!==i&&i.isAntiSpam&&!t.isEditMode?Object(h.a)({content:"数据获取异常，请刷新页面后重试",delay:2e3}):(t.isEditMode=!t.isEditMode,t.wkWeb11137&&!t.isVip&&t.isEditMode&&t.setIsNotVipEnterEditTip(t.isEditMode))})).catch((function(){t.loading=!1}))},switchMode:function(e){var t,i=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isShowTrialGuide=!1,!this.isVip||null===(t=this.editableRtcs)||void 0===t||!t.isAntiSpam||n||this.isEditMode){if(!this.loading){c.log.xsend(S,{behavior:T.CLICK,module:C.ModeSwitchEntry,action:this.isEditMode?"quit":"edit",index:e,trialEditTimes:this.trialEditTimes});var a=this.isEditMode?{edtMode:2}:{edtMode:1,edtDocSrc:1},l=g({docId:this.docId},a);if(this.isVip)this.requstReaderInfo(l);else if(this.wkWeb11137){if(!this.isLogin)return void this.gotoCashier("btnEntry");var r=this.trialEditTimes,d=this.isEditMode;if(!this.isVip&&(r>0||0===r&&d)){l.trialEdit=this.isEditMode?2:1,this.requstReaderInfo(l);var u=this.isEditMode?1:0;return void this.toggleReaderHelper(u)}this.gotoCashier("btnEntry")}else Object(o.a)([{sceneID:"EditorHeadIcon"}],!0).then((function(t){var n,o,a,l,r,d,u=((null==t||null===(n=t.items)||void 0===n||null===(o=n.EditorHeadIcon)||void 0===o?void 0:o.result)||[]).items,h=((null==u||null===(a=u.find)||void 0===a||null===(l=a.call(u,(function(e){return 96===(null==e?void 0:e.sourceID)})))||void 0===l?void 0:l.data)||{}).isDialogGuide,v=((null==u||null===(r=u.find)||void 0===r||null===(d=r.call(u,(function(e){return 87===(null==e?void 0:e.sourceID)})))||void 0===d?void 0:d.data)||{}).templateIDs;if(i.avators=s.b.getRandomArray(v,3),h)return 0===i.guideState&&(i.guideState=1),i.isShowDialog=!0,void c.log.xsend(S,{behavior:T.SHOW,module:C.ModeSwitchDialog,index:e});i.gotoCashier("btnEntry")})).catch((function(){})).finally((function(){i.loading=!1}))}}else this.showMachine()},gotoCashier:function(){location.href=Object(a.c)(a.a.VIP,{ext:"EditorJoinVIP"})},sendCaptcha:function(e){var t=this;u.wkAxios.get("/user/interface/verifycodeproxy",{params:{source:"edtonline",type:3,ds:e.ds,tk:e.tk}}).then((function(e){e.is_spam?Object(h.a)({content:"数据验证异常，请点击重新验证",delay:2e3}):t.switchMode("entry",!0)}))},initSdkMachine:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=null===(e=window.PassMachine)||void 0===e?void 0:e.mkd;if(i&&!O){var n=this;O=new i({type:"spin",id:"app",ak:"f6c1f7830fc65ebb0efc379c05cc07b0",maskModule:!0,verifySuccessFn:function(e){c.log.xsend(S,{behavior:T.CLICK,module:C.MachineVcode,action:"success"}),O.removeMask(),n.sendCaptcha(e)},initApiErrorFn:function(e){console.error(e)},initApiSuccessFn:function(){t&&(O.initVcode(),c.log.xsend(S,{behavior:T.SHOW,module:C.MachineVcode}))},closeFn:function(){c.log.xsend(S,{behavior:T.CLICK,module:C.MachineVcode,action:"close"})}})}},showMachine:function(){O?(c.log.xsend(S,{behavior:T.SHOW,module:C.MachineVcode}),O.initVcode()):this.initSdkMachine(!0)},toggleReaderHelper:function(e){Object(m.$)("#reader-helper").css("opacity",e)},trialEditDialog:function(){var e,t=this;this.needDownloadEdited&&!this.isVip&&(null!==(e=this.avators)&&void 0!==e&&e.length?this.setDialogInfo():Object(o.a)([{sceneID:"EditorHeadIcon"}],!0).then((function(e){var i,n,o,a,l=((null==e||null===(i=e.items)||void 0===i||null===(n=i.EditorHeadIcon)||void 0===n?void 0:n.result)||[]).items,r=((null==l||null===(o=l.find)||void 0===o||null===(a=o.call(l,(function(e){return 87===(null==e?void 0:e.sourceID)})))||void 0===a?void 0:a.data)||{}).templateIDs;t.avators=s.b.getRandomArray(r,3),t.setDialogInfo()})))},setDialogInfo:function(){this.dialogInfo={type:"trialEdit",title:"您正在试用在线编辑特权（剩余".concat(this.trialEditTimes,"次）"),descText:"开启了无限次在线编辑特权",leftBtnText:"稍后再来",rightBtnText:"开启特权"},this.isShowDialog=!0,c.log.xsend(S,{behavior:T.SHOW,module:[C.ModeSwitchDialog,"trial"].join("-")})}})}),j=(i(378),i(3)),P=Object(j.default)(y,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mode-switch no-full-screen",attrs:{id:"app-top-right-tool"}},[i("div",{staticClass:"switch-wrap"},[i("div",{class:["switch-btn",e.isEditMode&&"quit"],on:{click:function(t){return e.switchMode("entry")},mouseover:function(t){return e.showTrialGuide(!0)},mouseleave:function(t){return e.showTrialGuide(!1)}}},[e._v(e._s(e.isEditMode?"退出编辑":"编辑文档")+"\n            "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowTrialGuide,expression:"isShowTrialGuide"}],staticClass:"trail-edit-guide switch-guide state0"},[e._m(0),e._v(" "),i("div",{staticClass:"guide-btn"},[e._v("免费试用")])])]),e._v(" "),i("div",{class:["switch-guide","state"+e.guideState]},[i("div",{staticClass:"guide-btn",on:{click:e.closeGuide}},[e._v("稍后编辑")])])]),e._v(" "),i("PopDialog",{attrs:{visible:e.isShowDialog,avators:e.avators,"dialog-info":e.dialogInfo},on:{closeDialog:e.closeDialog}})],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"guide-text"},[t("p",[this._v("在线编辑免费开放试用啦")]),this._v(" "),t("p",[this._v("快来体验一下吧!")])])}],!1,null,"330777eb",null).exports,E=i(21);function D(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function k(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?D(Object(i),!0).forEach((function(t){I(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):D(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function I(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function V(e){var t,i,n=e.skinId,o=e.skinType,s=e.describe,a=e.thumb,l=k(k({},e),{},{id:n,type:+o,name:s,sVip:null!=e&&null!==(t=e.scope)&&void 0!==t&&null!==(i=t.superVip)&&void 0!==i&&i.exclusiveOwn?1:0});return 0==+o?l.color=a:l.imgSrc=a,l}var _=i(28);function x(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function M(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?x(Object(i),!0).forEach((function(t){B(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function B(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var L=(null===d.a||void 0===d.a?void 0:d.a.MODULE).VipMemberPopNew,G="".concat(L,"_Theme"),A=M(M({},d.a),{},{MODULE:{UserGuide:[G,"UserGuide"].join("_"),Enter:[G,"Enter"].join("_"),ThemeListPanel:[G,"ThemeListPanel"].join("_"),ChangeBtn:[G,"ChangeBtn"].join("_"),BuyVipBtn:[G,"BuyVipBtn"].join("_")}}),R=i(225);function H(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function N(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?H(Object(i),!0).forEach((function(t){U(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):H(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function U(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var W=new f.a,F=A.ACT_ID,K=A.BEHAVIOR,$=A.MODULE,q={data:function(){return{enterAnimation:!1,themeType:0,isDialogShow:!1,isTipsShow:!1,themes:[],currentSlide:0,showBttomTheme:!1,tPanelStart:0,tPanelEnd:0,themesPanelView:{slogan:"",btnClass:"",btnText:"",btnAction:"",btnCC:""}}},computed:N(N(N(N(N(N({},Object(n.mapState)(["vipInfo"])),Object(n.mapState)("userInfo",["isLogin"])),Object(n.mapState)("vipInfo",["isVip","isSuperVip","wasVip","wasSuperVip"])),Object(n.mapState)("viewUI",["skinInfo","viewTheme","themeDefaultVal","newGuideStep","isNewGuide","screenMode"])),Object(n.mapState)("visitUserInfo",["isTaskUser","taskStatus","skinTaskStatus"])),{},{showTopThemeTips:function(){var e=(new Date).toDateString(),t=localStorage.getItem("themeTipsTagShowDate"),i=Number(localStorage.getItem("themeTipsTagCloseTimes"));return!(t&&e===t&&i>=1||!1===this.isTipsShow)&&(e!==t&&(Object(_.f)("themeTipsTagShowDate",e),Object(_.f)("themeTipsTagCloseTimes","0")),!0)},slideStyle:function(){return{marginLeft:"".concat(186*this.currentSlide,"px"),transition:"all .3s ease-out .1s"}},leftDisabled:function(){return this.currentSlide>=0},rightDisabled:function(){return this.currentSlide<=7-this.themes.length},themeIndexCLass:function(){return{"theme-index":3===this.newGuideStep}},visibleGuide:function(){var e=this.newGuideStep,t=this.isNewGuide,i=3===e&&t;return i&&c.log.xsend(F,{behavior:K.SHOW,module:$.UserGuide}),i},sVipSkinExclusiveSelected:function(){var e,t,i,n=this,o=null===(e=this.themes)||void 0===e?void 0:e.find((function(e){return e.skinId===n.viewTheme}));return Boolean(null==o||null===(t=o.scope)||void 0===t||null===(i=t.superVip)||void 0===i?void 0:i.exclusiveOwn)}}),watch:{sVipSkinExclusiveSelected:function(e){this.calPanelView()},showBttomTheme:function(e){e?this.tPanelStart=new Date:this.logPanelDuration()},skinTaskStatus:function(e){e&&(this.handleOpenBottom({pos:"skinTaskBtn"}),this.setSkinTaskStatus(!1))}},mounted:function(){this.calPanelView(),this.handleInit(),this.handleLoginChange(),window.addEventListener("beforeunload",this.beforeunloadHandler)},destroyed:function(){window.removeEventListener("beforeunload",this.beforeunloadHandler)},methods:N(N(N({},Object(n.mapMutations)("viewUI",["setTheme","setThemeDefaultVal","setNewGuideStep"])),Object(n.mapMutations)("visitUserInfo",["setTaskStatus","setSkinTaskStatus"])),{},{handleInit:function(){"1"!==r.default.get("themeEnterClicked")&&(this.enterAnimation=!0),this.showBttomTheme&&c.log.xsend(F,{behavior:K.SHOW,module:$.ThemeListPanel,auto:1})},logPanelDuration:function(){this.tPanelEnd=new Date;var e=(this.tPanelEnd-this.tPanelStart)/1e3;c.log.xsend(F,{behavior:K.DURATION,module:$.ThemeListPanel,secs:e})},beforeunloadHandler:function(){this.showBttomTheme&&this.tPanelStart&&this.logPanelDuration()},calPanelView:function(){this.vipInfo;var e=this.isVip,t=this.isSuperVip,i=this.wasVip,n=this.wasSuperVip,o=this.sVipSkinExclusiveSelected;this.themesPanelView=n?{slogan:"您的超级会员已过期，续费可使用专属皮肤~",btnClass:"super-vip",btnText:"立即续费超级会员",btnAction:"join",btnCC:"viewThemeBttomVipBtn"}:i?{slogan:"您的会员权益已过期，无法继续使用会员皮肤，快去续费吧～",btnClass:"super-vip",btnText:"立即续费会员",btnAction:"join",btnCC:"viewThemeBttomVipBtn"}:t?{slogan:"",btnClass:"confirm-change",btnText:"确认更换",btnAction:"save",btnCC:"viewThemeBttomSaveBtn"}:o?{slogan:"您已选中超级会员专属皮肤，加入超级会员立即拥有！",btnClass:"super-vip",btnText:"我要成为超级会员",btnAction:"join",btnCC:"viewThemeBttomVipBtn"}:e?{slogan:"开通会员尊享阅读页换肤功能",btnClass:"confirm-change",btnText:"确认更换",btnAction:"save",btnCC:"viewThemeBttomSaveBtn"}:{slogan:"开通会员尊享阅读页换肤功能",btnClass:"",btnText:"开通VIP",btnAction:"join",btnCC:"viewThemeBttomVipBtn"}},handleLoginChange:function(e,t){var i="unloginSelectTheme";if(e){var n=t.cc,o=t.type,s=t.themeConf,a=JSON.stringify({theme:this.viewTheme,cc:n,type:o,themeConf:s});Object(_.f)(i,a)}else if(this.isLogin){var l=Object(_.a)(i),r=JSON.parse(l);if(!r)return;Object(_.f)(i,"null"),this.clickBtn(null==r?void 0:r.type,null==r?void 0:r.cc,null==r?void 0:r.themeConf)}},clickBtn:function(e,t,i){var n=this;if("join"===e?c.log.xsend(F,{behavior:K.CLICK,module:$.BuyVipBtn}):c.log.xsend(F,{behavior:K.CLICK,module:$.ChangeBtn}),!this.isLogin){var o,s,l=null===(o=this.themes)||void 0===o||null===(s=o.find)||void 0===s?void 0:s.call(o,(function(e){return e.skinId===n.viewTheme}));return this.handleLoginChange(!0,{cc:t,type:e,themeConf:l}),void W.log()}c.log.xsend(102986,{cashierCodeSuffix:t});var r,d,u="join"===e;if(i){var h,v,p,f,m=null!=i&&null!==(h=i.scope)&&void 0!==h&&null!==(v=h.superVip)&&void 0!==v&&v.auth?1:0,b=null!=i&&null!==(p=i.scope)&&void 0!==p&&null!==(f=p.vip)&&void 0!==f&&f.auth?1:0;(m&&this.isSuperVip||b&&this.isVip)&&(u=!1),u||this.handleChoose(i)}if(u){var g={location:"VipMemberPopNew.theme.link.join",ext:t},w=Object(a.c)(a.a.VIP,g);window.location.href=w}else c.log.xsend(102990),(r=this.viewTheme,d={skin_id:r,skinVs:"v2"},Object(E.a)({url:"/user/interface/setuserbackground",data:d,method:"POST"})).then((function(){if(n.setThemeDefaultVal(n.viewTheme),n.showBttomTheme=!1,n.isTaskUser&&2===n.taskStatus){var e=n.taskStatus,t=++e;Object(R.a)(1,t)}})).catch((function(e){console.warn(e)}))},handleChoose:function(e){this.themeType=e.type;var t={viewTheme:e.id,themeConf:e};this.setTheme(t),c.log.xsend(102985,{themeType:e.type,themeVal:e.id})},handleClose:function(){var e=this;if(c.log.xsend(102987),this.isVip){var t=this.themes.find((function(t){return t.skinId===e.themeDefaultVal})),i={viewTheme:this.themeDefaultVal,themeConf:t};this.setTheme(i),this.showBttomTheme=!1}else this.isDialogShow=!0},handleSeeMore:function(){c.log.xsend(102988);window.location.href="/ndvipmember/browse/vipprivilege"},handleDialogClose:function(){var e=this,t=this.themes.find((function(t){return t.skinId===e.themeDefaultVal})),i={viewTheme:this.themeDefaultVal,themeConf:t};this.setTheme(i),this.isDialogShow=!1,this.showBttomTheme=!1},handleOpenBottom:function(e){if(!this.showBttomTheme){var t=e||{},i=t.pos,n=void 0===i?"":i,o=t.cb,s=void 0===o?function(){}:o;"enter"===n&&(r.default.set("themeEnterClicked",""),this.enterAnimation=!1,c.log.xsend(F,{behavior:K.CLICK,module:$.Enter})),c.log.xsend(102991);var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(null==e?void 0:e.skinList)||[],i=e.defaultSkin,n=[];return t.forEach((function(e){e.isShow&&n.push(V(e))})),{themeList:n,defaultSkin:i}}(this.skinInfo),l=a.themeList;a.defaultSkin;this.themes=l;var d=r.default.get("wasSuperVipVisit");if(this.setThemeDefaultVal(this.viewTheme),this.wasSuperVip&&"1"!==d){var u,h,v=null==l||null===(u=l.filter)||void 0===u||null===(h=u.call(l,(function(e){var t,i;return null==e||null===(t=e.scope)||void 0===t||null===(i=t.superVip)||void 0===i?void 0:i.exclusiveOwn})))||void 0===h?void 0:h[0];v&&this.handleChoose(v)}this.showBttomTheme=!0,c.log.xsend(F,{behavior:K.SHOW,module:$.ThemeListPanel}),null==s||s()}},handleCloseTips:function(){var e=Number(localStorage.getItem("themeTipsTagCloseTimes"));e<1&&(e+=1,Object(_.f)("themeTipsTagCloseTimes",String(e))),this.isTipsShow=!1},slideThemes:function(e){"left"===e?this.currentSlide<0&&this.currentSlide++:"right"===e&&this.currentSlide>7-this.themes.length&&this.currentSlide--},nextStep:function(){c.log.xsend(103165,{index:2}),this.setNewGuideStep(4),Object(m.$)("body").css("overflow","auto")}})};i(379);function J(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function z(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?J(Object(i),!0).forEach((function(t){Q(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):J(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Q(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var X={components:{ModeSwitch:P,Theme:Object(j.default)(q,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"bg-theme-wrap no-full-screen",style:{display:e.screenMode?"none":"block"},attrs:{id:"app-top-right-tool"}},[i("div",{staticClass:"theme-enter-wrap",class:{animation:e.enterAnimation},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleOpenBottom({pos:"enter"})}}}),e._v(" "),i("div",{staticClass:"top-theme-tips-wrap",class:e.themeIndexCLass},[i("div",{attrs:{id:"color-plate"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleOpenBottom.apply(null,arguments)}}}),e._v(" "),e.showTopThemeTips&&e.isTipsShow?i("div",{staticClass:"tips"},[i("p",{staticClass:"triangle"}),e._v(" "),i("div",{staticClass:"tips-content",on:{click:function(t){return t.stopPropagation(),e.handleOpenBottom.apply(null,arguments)}}},[i("div",{staticClass:"horn-icon icon"}),e._v(" "),i("div",{staticClass:"text"},[e._v("\n                    点击这里,可以更换皮肤哦\n                ")])]),e._v(" "),i("div",{staticClass:"close-tips icon",on:{click:function(t){return t.stopPropagation(),e.handleCloseTips.apply(null,arguments)}}})]):e._e()]),e._v(" "),e.showBttomTheme?i("div",{staticClass:"bottom-theme-select-wrap"},[i("div",{staticClass:"bottom-theme-wrap-mask"}),e._v(" "),i("div",{staticClass:"btn-close",on:{click:function(t){return t.stopPropagation(),e.handleClose.apply(null,arguments)}}}),e._v(" "),i("div",{staticClass:"theme-list"},[i("div",{staticClass:"title-wrap"},[i("div",{staticClass:"slogan"},[e._v("\n                    "+e._s(e.themesPanelView.slogan)+"\n                ")]),e._v(" "),i("div",{staticClass:"btn",class:e.themesPanelView.btnClass,on:{click:function(t){return t.stopPropagation(),e.clickBtn(e.themesPanelView.btnAction,e.themesPanelView.btnCC)}}},[e._v("\n                    "+e._s(e.themesPanelView.btnText)+"\n                ")])]),e._v(" "),i("div",{staticClass:"theme-wrapper"},[i("div",{staticClass:"left-icon control-icon",class:e.leftDisabled?"disabled":"",on:{click:function(t){return e.slideThemes("left")}}}),e._v(" "),i("div",{staticClass:"theme-items"},[i("div",{staticClass:"slide-wrapper",style:e.slideStyle},e._l(e.themes,(function(t,n){return i("div",{key:t.id+"_"+n,staticClass:"theme-item"},[i("div",{staticClass:"bg-img",class:{selected:t.id===e.viewTheme},style:{background:0===t.type?t.color:"url("+t.imgSrc+") no-repeat center / cover"},on:{click:function(i){return i.stopPropagation(),e.handleChoose(t)}}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.sVip,expression:"v.sVip"}],staticClass:"s-vip-tag"},[e._v("超级会员")]),e._v(" "),i("div",{class:{"vip-sigin":t.id>1}})]),e._v(" "),i("div",{staticClass:"theme-name"},[e._v("\n                                "+e._s(t.name)+"\n                            ")])])})),0)]),e._v(" "),i("div",{staticClass:"right-icon control-icon",class:e.rightDisabled?"disabled":"",on:{click:function(t){return e.slideThemes("right")}}})])])]):e._e(),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isDialogShow,expression:"isDialogShow"}],staticClass:"detain-dialog-wrap"},[i("div",{staticClass:"detain-dialog"},[i("div",{staticClass:"detain-title"},[e._v("\n                您的皮肤设置未保存，开通VIP保存设置\n            ")]),e._v(" "),i("p",{staticClass:"detain-content",on:{click:function(t){return t.stopPropagation(),e.handleSeeMore.apply(null,arguments)}}},[e._v("\n                查看更多15项会员特权\n            ")]),e._v(" "),i("div",{staticClass:"detain-close",on:{click:function(t){return t.stopPropagation(),e.handleDialogClose.apply(null,arguments)}}}),e._v(" "),i("div",{staticClass:"btn-wrap"},[i("div",{staticClass:"btn no-save",on:{click:function(t){return t.stopPropagation(),e.handleDialogClose.apply(null,arguments)}}},[e._v("\n                    不保存\n                ")]),e._v(" "),i("div",{staticClass:"btn join-vip",on:{click:function(t){return t.stopPropagation(),e.clickBtn("join","viewThemeDialogVipBtn")}}},[e._v("\n                    开通文库VIP\n                ")])])]),e._v(" "),i("div",{staticClass:"detain-mask"})])])}),[],!1,null,"00438611",null).exports},computed:z(z(z({},Object(n.mapState)(["docInfo"])),Object(n.mapState)("readerInfo",["editModeGuideFlow","editableRtcs","isLoadHistory"])),{},{isPatent:function(){var e,t;return null===(e=this.docInfo)||void 0===e||null===(t=e.patentInfo)||void 0===t?void 0:t.isPatent},visible:function(){return!this.isPatent},showEdit:function(){var e,t;return this.editModeGuideFlow&&([1,3].includes(+(null===(e=this.editableRtcs)||void 0===e?void 0:e.edtStatus))||2==+(null===(t=this.editableRtcs)||void 0===t?void 0:t.edtStatus)&&this.isLoadHistory)}})},Y=Object(j.default)(X,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top-bar-right"},[this.isPatent?this._e():[t("ModeSwitch",{directives:[{name:"show",rawName:"v-show",value:this.showEdit,expression:"showEdit"}]}),this._v(" "),t("Theme",{directives:[{name:"show",rawName:"v-show",value:!this.showEdit,expression:"!showEdit"}]})]],2)}),[],!1,null,null,null);t.default=Y.exports}}]);